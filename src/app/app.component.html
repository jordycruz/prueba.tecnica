<div>
  <header>
    <img [src]="urlLogo" height="40" class="mr-2">
    <p-menubar [model]="items">
      <ng-template pTemplate="end">
          <input type="text" pInputText placeholder="Search">
      </ng-template>
    </p-menubar>
  </header>
  <hr>
  <div>
    <h2>Historial Clinico</h2> 
    <p-button 
      (onClick)="abrirModalRegistro()"
      [style]="{width: '200px', margin: '15px 0px'}"
      label="Nuevo registro" 
      class="p-button-danger">
    </p-button>
  </div>
  <p-table [rowHover]="true" [value]="historial" responsiveLayout="scroll">
    <ng-template pTemplate="header">
        <tr>
          <th>Nombre Mascota</th>
          <th>Edad a√±os</th>
          <th>Estado</th>
          <th>Ultima Revision</th>
          <th>Acciones</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-historial>
        <tr>
          <td>{{historial.nombreMascota}}</td>
          <td>{{historial.edad}}</td>
          <td>{{historial.estado}}</td>
          <td>{{historial.ultimaRevision}}</td>
          <td>
            <p-button class="eliminar" label="Eliminar" class="p-button-danger" (onClick)="eliminarRegistro(historial.id)"></p-button>
            <p-button class="editar" label="Editar" class="p-button-danger" (onClick)="abrirModal(historial.id)"></p-button>
          </td>
        </tr>
    </ng-template>
 </p-table>
</div>


<p-dialog [modal]="true" header="Editar historico" [style]="{width: '450px'}" [(visible)]="displayModal">
  <form class="formulario-edicion">    
    <input required placeholder="Nombre Mascota" type="text" pInputText  [(ngModel)]="nuevoRegistro.nombreMascota" name="mascotaNombre"  />
    <input placeholder="Edad Mascota" type="text" pInputText  [(ngModel)]="nuevoRegistro.edad" name="edad"/>
    <input placeholder="estado" type="text" pInputText  [(ngModel)]="nuevoRegistro.estado"  name="estado"/>
    <input placeholder="Ultima revision" type="text" pInputText [(ngModel)]="nuevoRegistro.ultimaRevision" name="fecha"/>

    <p-button 
     *ngIf="editar === false"
      (onClick)="actualizarRegistro()"
      [style]="{width: '100%', margin: '15px 0px'}" 
      class="editar" 
      label="Actualizar" 
      class="p-button-danger">
    </p-button>
    <p-button 
     *ngIf="editar === true"
      (onClick)="crearRegistro()"
      [style]="{width: '100%', margin: '15px 0px'}" 
      class="editar" 
      label="Crear" 
      class="p-button-danger">
    </p-button>
  </form>
</p-dialog>
